SET ECHO ON;

CREATE TABLE ACTOR (
   ACTOR_NBR     INTEGER  PRIMARY KEY,
   NAME    VARCHAR2(30),
   NATIONALITY    VARCHAR2(15));

CREATE TABLE ROLE  (
   ROLE_MOVIE_NBR     INTEGER,
   ROLE_ACTOR_NBR     INTEGER,
   ROLE_NAME    VARCHAR2(30),
   ROLE_FEE    INTEGER,
   PRIMARY KEY (ROLE_MOVIE_NBR, ROLE_ACTOR_NBR),
   FOREIGN KEY (ROLE_ACTOR_NBR) REFERENCES ACTOR(ACTOR_NBR),
   FOREIGN KEY (ROLE_MOVIE_NBR) REFERENCES MOVIE(MOVIE_NBR));

CREATE TABLE MOVIE  (
   MOVIE_NBR     INTEGER  PRIMARY KEY,
   TITLE    VARCHAR2(30),
   RATING  VARCHAR2(5)   CHECK (RATING IN ('G','PG', 'PG-13', 'R', 'NR')),
   DIR_NBR INTEGER,
   FOREIGN KEY (DIR_NBR) REFERENCES DIRECTOR(DIR_NBR));
   
CREATE TABLE DIRECTOR (
   DIR_NBR     INTEGER  PRIMARY KEY,
   DIR_NAME    VARCHAR2(30),
   NATIONALITY    VARCHAR2(15));
   
CREATE TABLE SHOWING  (
   SH_MOVIE    INTEGER,
   SH_THEATER INTEGER,
   START_DATE DATE,
   END_DATE DATE,
   PRIMARY KEY (SH_MOVIE, SH_THEATER),
   FOREIGN KEY (SH_MOVIE) REFERENCES MOVIE(MOVIE_NBR),
   FOREIGN KEY (SH_THEATER) REFERENCES THEATER(ID));

CREATE TABLE THEATER  (
   ID INTEGER PRIMARY KEY,
   TH_NAME VARCHAR2(30));

INSERT INTO ACTOR VALUES ('1', 'Stephen Baldwin', 'USA');
INSERT INTO ACTOR VALUES ('2', 'Gabriel Byrne', 'USA');
INSERT INTO ACTOR VALUES ('3', 'Benicio Del Toro', 'USA');
INSERT INTO ACTOR VALUES ('4', 'Kevin Pollak', 'USA');
INSERT INTO ACTOR VALUES ('5', 'Kevin Spacey', 'USA');
INSERT INTO ACTOR VALUES ('6', 'Tommy Lee Jones', 'USA');
INSERT INTO ACTOR VALUES ('7', 'Will Smith', 'USA');
INSERT INTO ACTOR VALUES ('8', 'Sylvester Stallone', 'USA');
INSERT INTO ACTOR VALUES ('9', 'Talia Shire', 'India');
INSERT INTO ACTOR VALUES ('10', 'Tom Hanks', 'USA');
INSERT INTO ACTOR VALUES ('11', 'Bill Paxton', 'USA');
INSERT INTO ACTOR VALUES ('12', 'Kati Outinen', 'Finland');
INSERT INTO ACTOR VALUES ('13', 'Markku Peltonen', 'Finland');
INSERT INTO ACTOR VALUES ('14', 'Bertil Guve', 'Sweden');
INSERT INTO ACTOR VALUES ('15', 'Pernilla Allwin', 'Sweden');
INSERT INTO ACTOR VALUES ('16', 'Juliette Binoche', 'France');
INSERT INTO ACTOR VALUES ('17', 'Lena Olin', 'Sweden');

INSERT INTO ROLE VALUES ('1', '1', 'McManus', '150');
INSERT INTO ROLE VALUES ('1', '2', 'Keaton', '150');
INSERT INTO ROLE VALUES ('1', '3', 'Fenster', '300');
INSERT INTO ROLE VALUES ('1', '4', 'Hockney', '350');
INSERT INTO ROLE VALUES ('1', '5', 'Verbal', '250');
INSERT INTO ROLE VALUES ('2', '6', 'Agent K', '7000');
INSERT INTO ROLE VALUES ('2', '7', 'Agent J', '7000');
INSERT INTO ROLE VALUES ('3', '8', 'Rocky', '1000');
INSERT INTO ROLE VALUES ('3', '9', 'Adrian', '500');
INSERT INTO ROLE VALUES ('4', '8', 'Rocky', '5000');
INSERT INTO ROLE VALUES ('4', '9', 'Adrian', '2500');
INSERT INTO ROLE VALUES ('5', '10', 'Jim Lovell', '15000');
INSERT INTO ROLE VALUES ('5', '11', 'Fred Haise', '5000');
INSERT INTO ROLE VALUES ('6', '12', 'Salvation Army Worker', '50');
INSERT INTO ROLE VALUES ('6', '13', 'M', '40');
INSERT INTO ROLE VALUES ('7', '14', 'Fanny', '200');
INSERT INTO ROLE VALUES ('7', '15', 'Alexander', '225');
INSERT INTO ROLE VALUES ('8', '17', 'Josephine', '500');

INSERT INTO MOVIE VALUES ('1', 'The Usual Suspects', 'R', '1');
INSERT INTO MOVIE VALUES ('2', 'Men In Black', 'PG-13', '2');
INSERT INTO MOVIE VALUES ('3', 'Rocky', 'PG', '3');
INSERT INTO MOVIE VALUES ('4', 'Rocky II', 'PG', '4');
INSERT INTO MOVIE VALUES ('5', 'Apollo 13', 'PG', '5');
INSERT INTO MOVIE VALUES ('6', 'Man Without a Past', 'NR', '6');
INSERT INTO MOVIE VALUES ('7', 'Fanny and Alexander', 'R', '7');
INSERT INTO MOVIE VALUES ('8', 'Chocolat', 'PG-13', '8');

INSERT INTO DIRECTOR VALUES ('1', 'Bryan Singer', 'USA');
INSERT INTO DIRECTOR VALUES ('2', 'Barry Sonnenfeld', 'USA');
INSERT INTO DIRECTOR VALUES ('3', 'John G. Avildsen', 'USA');
INSERT INTO DIRECTOR VALUES ('4', 'Sylvester Stallone', 'USA');
INSERT INTO DIRECTOR VALUES ('5', 'Don Howard', 'USA');
INSERT INTO DIRECTOR VALUES ('6', 'Aki Kaurismaki', 'Finland');
INSERT INTO DIRECTOR VALUES ('7', 'Ingmar Bergman', 'Sweden');
INSERT INTO DIRECTOR VALUES ('8', 'Lasse Hallstrom', 'Sweden');

INSERT INTO SHOWING VALUES ('1', '110', '14-Mar-03', '28-Mar-03');
INSERT INTO SHOWING VALUES ('4', '110', '07-Mar-03', '13-Mar-03');
INSERT INTO SHOWING VALUES ('2', '120', '14-Mar-03', '27-Mar-03');
INSERT INTO SHOWING VALUES ('7', '120', '07-Mar-03', '27-Mar-03');
INSERT INTO SHOWING VALUES ('8', '120', '07-Mar-03', '20-Mar-03');
INSERT INTO SHOWING VALUES ('2', '140', '07-Mar-03', '20-Mar-03');
INSERT INTO SHOWING VALUES ('5', '140', '14-Mar-03', '27-Mar-03');
INSERT INTO SHOWING VALUES ('8', '140', '21-Mar-03', '27-Mar-03');

INSERT INTO THEATER VALUES ('100', 'Capitol Theater');
INSERT INTO THEATER VALUES ('110', 'AMC');
INSERT INTO THEATER VALUES ('120', 'Brattle Theater');
INSERT INTO THEATER VALUES ('140', 'Loews');
